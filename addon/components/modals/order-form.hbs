<Modal::Default @modalIsOpened={{@modalIsOpened}} @options={{@options}} @confirm={{@onConfirm}} @decline={{@onDecline}}>
    <div class="modal-body-container">
        <div class="grid grid-cols-2 gap-4 text-xs dark:text-gray-100">
            <InputGroup @name={{t "common.internal-id"}} @value={{@options.order.internal_id}} @helpText={{t "order.fields.id-text"}} />

            <div class="input-group">
                <InputLabel @labelText={{t "order.fields.date-scheduled"}} @helpText={{t "order.fields.schedule-help-text"}} />
                <DateTimeInput
                    class="form-input"
                    @value={{@options.order.scheduled_at}}
                    @minDate={{format-date-fns (now) "yyyy-MM-d"}}
                    @minTime={{format-date-fns (now) "HH:mm"}}
                    @onUpdate={{@options.scheduleOrder}}
                    @disabled={{@options.order.isIntegratedVendorOrder}}
                />
            </div>

            <InputGroup @name={{t "order.fields.customer"}} @helpText={{t "order.fields.customer-help-text"}}>
                <ModelSelect
                    @modelName="customer"
                    @selectedModel={{@options.order.customer}}
                    @placeholder={{t "common.select-field" field=(t "resource.customer")}}
                    @triggerClass="form-select form-input"
                    @infiniteScroll={{false}}
                    @renderInPlace={{true}}
                    @allowClear={{true}}
                    @onChange={{@options.setOrderCustomer}}
                    as |model|
                >
                    <div class="flex items-center">
                        <div class="w-7">
                            <FaIcon @icon={{if model.isVendor "warehouse" "user"}} />
                        </div>
                        <span class="uppercase">
                            {{model.name}}
                        </span>
                    </div>
                </ModelSelect>
            </InputGroup>

            <InputGroup @name={{t "order.fields.facilitator"}} @helpText={{t "order.fields.facilitator-help-text"}}>
                <ModelSelect
                    @modelName="facilitator"
                    @selectedModel={{@options.order.facilitator}}
                    @placeholder={{t "common.select-field" field=(t "resource.facilitator")}}
                    @triggerClass="form-select form-input"
                    @allowClear={{true}}
                    @infiniteScroll={{false}}
                    @renderInPlace={{true}}
                    @disabled={{@options.order.isIntegratedVendorOrder}}
                    @onChange={{@options.setOrderFacilitator}}
                    as |model|
                >
                    <div class="flex items-center">
                        <div class="w-7">
                            {{#if model.isIntegratedVendor}}
                                <Image src={{model.photo_url}} alt={{model.name}} class="w-4 h-4" width="16" height="16" />
                            {{else}}
                                <FaIcon @icon={{if model.isVendor "warehouse" "user"}} />
                            {{/if}}
                        </div>
                        <span class="uppercase">
                            {{model.name}}
                        </span>
                    </div>
                </ModelSelect>
            </InputGroup>

            <InputGroup @name={{t "order.fields.assign-driver"}} @helpText={{t "order.fields.assign-driver-help-text"}}>
                <ModelSelect
                    @modelName="driver"
                    @selectedModel={{@options.order.driver_assigned}}
                    @query={{this.driversQuery}}
                    @placeholder={{t "common.select-field" field=(t "resource.driver")}}
                    @triggerClass="form-select form-input"
                    @infiniteScroll={{false}}
                    @renderInPlace={{true}}
                    @disabled={{@options.order.isIntegratedVendorOrder}}
                    @allowClear={{true}}
                    @onChange={{@options.setDriver}}
                    as |model|
                >
                    <div class="flex items-center">
                        <div class="w-7">
                            <FaIcon @icon="id-card-alt" />
                        </div>
                        <div class="flex-1 flex flex-row truncate">
                            <span class="uppercase mr-2">{{model.name}}</span>
                            <span class="uppercase">{{model.phone}}</span>
                        </div>
                        {{#if this.order.facilitator}}
                            <div class="px-1 ml-2 leading-5 bg-green-400 rounded shadow">
                                <span class="text-xs text-green-900">
                                    {{this.order.facilitator.name}}
                                </span>
                            </div>
                        {{/if}}
                    </div>
                </ModelSelect>
            </InputGroup>

            <InputGroup @name={{t "order.fields.assign-vehicle"}} @helpText={{t "order.fields.assign-vehicle-help-text"}}>
                <ModelSelect
                    @modelName="vehicle"
                    @selectedModel={{@options.order.vehicle_assigned}}
                    @query={{this.driversQuery}}
                    @placeholder={{t "common.select-field" field=(t "resource.vehicle")}}
                    @triggerClass="form-select form-input"
                    @infiniteScroll={{false}}
                    @renderInPlace={{true}}
                    @disabled={{@options.order.isIntegratedVendorOrder}}
                    @allowClear={{true}}
                    @onChange={{@options.setVehicle}}
                    as |model|
                >
                    <div class="flex items-center">
                        <div class="w-6">
                            <Image @src={{model.avatar_url}} @fallbackSrc={{config "defaultValues.vehicleAvatar"}} class="w-4 h-4 shadow-sm rounded-md" />
                        </div>
                        <div class="flex-1 flex flex-row truncate">
                            <span class="uppercase">{{model.display_name}}</span>
                        </div>
                    </div>
                </ModelSelect>
            </InputGroup>
        </div>
    </div>
</Modal::Default>