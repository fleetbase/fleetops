{{#if (eq this.layout "table")}}
    <Layout::Resource::Tabular
        @resource="vehicle"
        @title={{t "resource.vehicles"}}
        @searchQuery={{this.query}}
        @onSearch={{perform this.vehicleActions.controllerSearchTask this}}
        @data={{@model}}
        @columns={{this.columns}}
        @page={{this.page}}
        @onPageChange={{fn (mut this.page)}}
        @setupTable={{fn (mut this.table)}}
        @actionButtons={{this.actionButtons}}
        @bulkActions={{this.bulkActions}}
        @controller={{this}}
    />
{{else}}
    <Layout::Section::Header @title={{t "resource.vehicles"}} @actionsWrapperClass="space-x-1">
        <Layout::Resource::TabularActions
            @searchQuery={{this.query}}
            @onSearch={{perform this.vehicleActions.controllerSearchTask this}}
            @columns={{this.columns}}
            @page={{this.page}}
            @onPageChange={{fn (mut this.page)}}
            @setupTable={{fn (mut this.table)}}
            @actionButtons={{this.actionButtons}}
            @bulkActions={{this.bulkActions}}
            @controller={{this}}
            @hideColumnsPicker={{true}}
        />
    </Layout::Section::Header>

    <Layout::Section::Body class="overflow-y-scroll h-full">
        <Layout::Resource::CardsGrid
            @resource="vehicle"
            @data={{@model}}
            @gap="sm"
            @columns="4"
            @showPagination={{true}}
            @page={{this.page}}
            @onPageChange={{fn (mut this.page)}}
            @paginationMeta={{@model.meta}}
            @containerClass="p-4"
            class="h-full"
            as |Item|
        >
            <Vehicle::Card @resource={{Item.model}} />
        </Layout::Resource::CardsGrid>
    </Layout::Section::Body>
{{/if}}
{{outlet}}